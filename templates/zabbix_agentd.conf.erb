###########################################################
# PUPPET MANAGED                                          #
# Do not edit this file on a server node unless you       #
# are willing to have your changes overwritten by         #
# Puppet.  If you really want to change the contents      #
# repository and check it out on the puppet server.       #
###########################################################

# This is config file for zabbix_agentd
# To get more information about ZABBIX, go http://www.zabbix.com

############ GENERAL PARAMETERS #################

# List of comma delimited IP addresses (or hostnames) of ZABBIX servers. 
# No spaces allowed. First entry is used for sending active checks.
# Note that hostnames must resolve hostname->IP address and
# IP address->hostname.

Server=<%= scope.lookupvar("tribily::params::zabbix_server") %>

# Server port for sending active checks

#ServerPort=10051

# Unique hostname. Required for active checks.

Hostname=<%= scope.lookupvar("tribily::params::host_name") %>

# Listen port. Default is 10050

#ListenPort=10050

# IP address to bind agent
# If missing, bind to all available IPs

#ListenIP=127.0.0.1

# Number of pre-forked instances of zabbix_agentd.
# Default value is 5
# This parameter must be between 1 and 16

StartAgents=3

# How often refresh list of active checks. 2 minutes by default.

RefreshActiveChecks=600

# Disable active checks. The agent will work in passive mode listening server.

DisableActive=0
DisablePassive=1

# Enable remote commands for ZABBIX agent. By default remote commands disabled.

#EnableRemoteCommands=1

# Specifies debug level
# 0 - debug is not created
# 1 - critical information
# 2 - error information
# 3 - warnings
# 4 - information (default)
# 5 - for debugging (produces lots of information)

DebugLevel=3

# Name of PID file

PidFile=/var/run/zabbix-agent/zabbix_agentd.pid

# Name of log file.
# If not set, syslog will be used

LogFile=/var/log/zabbix-agent/zabbix_agentd.log

# Maximum size of log file in MB. Set to 0 to disable automatic log rotation.
LogFileSize=1

# Spend no more than Timeout seconds on processing
# Must be between 1 and 30

Timeout=5

# Include additional configs
Include=/etc/zabbix/conf.d/
